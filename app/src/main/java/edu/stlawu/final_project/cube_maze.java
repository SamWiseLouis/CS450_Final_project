package edu.stlawu.final_project;



import android.graphics.RectF;

import java.util.ArrayList;



public class cube_maze {

    private char[][]board;
    static final char VWALL = '|';
    static final char HWALL = '-';
    static final char MAZE_PATH = '0';
    static final char START ='s';
    private int xmax;
    private int ymax;
    private int rec_width;
    private int top_gap;
   // the points where the ball will start on this level running
    public int sx;
    public int sy;

    //
    public RectF wall;

    public portal aPortal;
    public ArrayList<RectF> walls;
    public ArrayList<portal> portals;

    // need an array of mazes
    public ArrayList<char[][]> levels;
    // need an array of maze walls

    public ArrayList<ArrayList<RectF>> level_walls;

    // need an arraylist of portals for each level
    private ArrayList<ArrayList<RectF>> level_portals;


    public cube_maze(int max_x, int max_y, int ballwidth){
        //given the screen demsinsions the game will draw a level maze from memory and place
        // the ball where it is supposed to be within the maze upon this levels start

        this.rec_width = ballwidth+10;
        System.out.println("the max width is " + max_x);
        this.xmax = max_x-rec_width;
        this.ymax= max_y-rec_width;
        this.levels = new ArrayList<char[][]>();
        this.top_gap = 0;
        this.walls =new ArrayList<RectF>();
        this.portals = new ArrayList<portal>();

        this.level_walls = new ArrayList<ArrayList<RectF>>();
        char maze_one[][]={
                {'-','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','-'},
                {'|','0','0','0','|','0','|','0','|','0','|','0','0','0','0','0','|','0','|'},
                {'-','0','|','-','-','0','-','0','-','0','-','-','|','-','|','0','-','0','|'},
                {'|','0','0','0','|','0','0','0','0','0','|','0','0','0','|','0','|','0','3'},
                {'-','0','|','-','-','-','|','0','|','-','-','0','-','0','-','0','-','0','|'},
                {'|','0','0','0','|','0','0','0','0','0','|','0','|','0','0','0','0','0','|'},
                {'-','-','|','0','-','-','|','-','|','0','-','-','|','0','-','0','-','0','|'},
                {'s','0','|','0','|','0','0','0','0','0','0','0','0','0','|','0','|','0','0'},
                {'-','0','-','0','-','0','|','-','|','-','|','-','|','-','|','-','|','-','|'},
                {'|','0','0','0','0','0','0','0','0','0','|','0','0','0','|','0','0','2','|'},
                {'-','0','|','-','-','-','|','0','-','0','-','0','|','-','-','0','|','-','|'},
                {'|','0','0','0','|','0','0','0','|','0','|','0','0','0','|','0','0','0','|'},
                {'-','0','-','0','-','-','|','0','-','0','-','-','|','0','-','-','|','0','|'},
                {'|','0','|','0','|','0','0','0','|','0','0','0','0','0','|','0','0','0','|'},
                {'-','0','|','-','-','-','|','0','-','-','|','0','|','-','-','0','|','-','|'},
                {'0','0','0','0','|','0','0','0','|','0','0','0','0','0','|','0','0','0','|'},
                {'-','0','-','0','-','-','|','0','-','0','|','-','|','-','-','-','|','0','|'},
                {'|','0','|','0','|','0','0','0','|','0','0','0','0','0','0','0','0','0','|'},
                {'-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'}
      };
        char maze_two[][]={
                {'-','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','-',},
                {'|','0','0','0','0','0','|','0','|','0','|','0','|','0','0','0','0','0','|',},
                {'-','0','-','0','|','-','-','0','-','0','-','0','-','0','|','-','-','0','|',},
                {'|','0','|','0','0','0','|','0','|','0','|','0','0','0','0','0','|','0','|',},
                {'-','0','-','0','-','0','-','0','-','0','-','0','-','-','|','0','-','0','|',},
                {'0','0','|','0','|','0','0','0','0','0','0','0','|','0','0','0','|','0','|',},
                {'-','-','|','0','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|',},
                {'s','0','|','0','0','0','|','0','0','0','0','0','0','0','0','0','|','0','|',},
                {'-','0','-','-','|','0','-','-','|','0','|','-','|','-','|','-','-','0','|',},
                {'|','0','|','0','0','0','|','0','0','0','0','0','0','0','0','0','|','0','|',},
                {'-','0','-','-','|','0','-','-','|','0','|','-','|','-','|','-','-','0','|',},
                {'|','0','|','0','0','0','|','0','|','0','0','0','0','0','0','0','|','0','|',},
                {'-','0','-','-','|','0','-','0','-','0','-','0','|','-','|','-','-','0','|',},
                {'|','0','|','0','0','0','|','0','|','0','|','0','0','0','0','0','0','0','|',},
                {'-','0','-','0','|','-','-','0','-','0','-','0','|','-','-','0','-','0','|',},
                {'|','0','|','0','0','0','0','0','0','0','|','0','0','0','|','0','|','0','1',},
                {'-','0','-','-','|','0','-','0','-','0','-','0','-','0','-','0','-','0','|',},
                {'|','0','0','0','0','4','|','0','|','0','|','0','|','0','|','0','|','0','|',},
                {'-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-',}
        };

        char maze_three[][]={
                {'-','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','|','-','-',},
                {'s','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0',},
                {'-','-','|','-','|','-','|','-','|','0','|','-','|','-','|','-','|','-','|',},
                {'|','0','0','0','0','0','0','0','|','0','0','0','0','0','0','0','|','0','|',},
                {'-','0','-','0','|','-','-','0','-','-','|','0','|','-','|','-','-','0','|',},
                {'|','1','|','0','0','0','|','0','|','0','|','0','0','0','0','0','|','0','|',},
                {'-','-','|','0','|','-','|','-','-','0','-','-','|','0','|','-','-','0','|',},
                {'|','0','|','0','0','0','|','0','|','0','|','0','0','0','0','0','0','0','2',},
                {'-','0','-','0','-','0','-','0','-','0','-','0','|','-','|','-','-','0','|',},
                {'-','0','0','0','|','0','0','0','|','0','|','0','|','0','0','0','|','0','|',},
                {'-','-','|','-','|','0','|','-','-','0','-','0','-','0','|','-','-','0','|',},
                {'|','0','0','0','|','0','0','0','|','0','0','0','0','0','0','0','|','0','|',},
                {'-','0','|','-','-','-','|','0','-','-','|','-','|','-','|','0','-','0','|',},
                {'|','0','0','0','|','0','0','0','0','0','0','0','0','0','0','0','|','0','|',},
                {'-','-','|','0','-','0','|','-','-','-','|','-','|','-','|','0','-','0','|',},
                {'|','0','|','0','|','0','0','0','|','0','0','0','0','0','0','0','|','0','|',},
                {'-','0','-','0','-','0','|','-','-','0','-','0','-','-','|','0','-','0','|',},
                {'|','0','0','0','0','0','0','0','|','0','|','0','|','0','0','0','|','0','|',},
                {'-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-',}
        };
        levels.add(0,maze_one);
        levels.add(1,maze_two);
        levels.add(2,maze_three);
        this.board = maze_one;
      //this.levels.add(board);
}

// will only generate the walls once
    public void generate_maze(){
        walls.clear();
        portals.clear();
        System.out.println("making walls now");
        for(int i=0; i<19; i++) {
            for (int j = 0; j < 19; j++) {
                if (board[i][j] == VWALL || (board[i][j] == HWALL)) {
                    float left = i * rec_width;
                    float top = j * rec_width + top_gap;
                    float right = i * rec_width + rec_width;
                    float bottom = j * rec_width + rec_width + top_gap;
                    // draw the new rectangle to canvas
                    wall = new RectF(left, top, right, bottom);
                    walls.add(wall);
                }else if(Character.isDigit(board[i][j])&& board[i][j]!=MAZE_PATH){
                    float left = i * rec_width;
                    float top = j * rec_width + top_gap;
                    float right = i * rec_width + rec_width;
                    float bottom = j * rec_width + rec_width + top_gap;
                    wall = new RectF(left, top, right, bottom);
                    int destination = Character.getNumericValue(board[i][j]);
                    aPortal = new portal(destination, wall);
                    portals.add(aPortal);
                }else if(board[i][j] == START){
                    int x = i *rec_width;
                    int y = j *rec_width;
                    sx = x+1;
                    sy = y+1;
                }

            }
        }
    }
public int getSx(){
        return sx;
}
public int getSy(){
        return sy;
}
public void setBoard(int bordIndex){
        System.out.println("changing board");
        board = levels.get(bordIndex-1);
        generate_maze();



}

}
